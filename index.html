<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rana Abubakar | Personal Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
      {
        "imports": {
          "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
          "react/": "https://aistudiocdn.com/react@^19.1.1/",
          "react": "https://aistudiocdn.com/react@^19.1.1"
        }
      }
    </script>
    <style>
      /* --- Animation --- */
      [data-animate] {
        opacity: 0;
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        will-change: transform, opacity;
      }
      [data-animate="fade-in-up"] { transform: translateY(40px); }
      [data-animate="fade-in-left"] { transform: translateX(-40px); }
      [data-animate="fade-in-right"] { transform: translateX(40px); }

      [data-animate].visible {
        opacity: 1;
        transform: translate(0, 0);
      }

      /* --- Animated Blob --- */
      @keyframes morph {
        0% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
        50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
        100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
      }
      .blob {
        animation: morph 8s ease-in-out infinite;
      }

      /* --- Portfolio Carousel --- */
      .carousel-track {
        display: flex;
        animation: scroll 40s linear infinite;
      }
      .portfolio-carousel:hover .carousel-track {
        animation-play-state: paused;
      }
      @keyframes scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });

      // Use a MutationObserver to catch when React has rendered the sections
      const mutationObserver = new MutationObserver((mutations) => {
        const sections = document.querySelectorAll('[data-animate]');
        if (sections.length > 0) {
            sections.forEach(section => observer.observe(section));
            mutationObserver.disconnect(); // Stop observing once elements are found
        }
      });
      
      mutationObserver.observe(document.getElementById('root'), { childList: true, subtree: true });

    </script>
  </body>
</html>
